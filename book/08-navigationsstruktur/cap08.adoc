== Navigationsstruktur anlegen

Im vorherigen Kapitel haben wir die benötigten Texte und Bilder in die
Seite eingefügt, stellten aber beim Aufruf des Frontends unserer Seite
fest, dass sich hier nach wie vor nichts verändert hat – aber warum?! Um
dies herauszufinden, müssen wir das Wissen aus Kapitel 5, „Grundlegende
Begriffe und Architektur“, reaktivieren, in dem wir gelernt haben, dass
Menüstruktur und Inhaltsstruktur voneinander unabhängig sind. Daraus
folgt, dass unsere neu angelegten _Inhalte_ natürlich nicht von selber
im _Menü_ abgebildet werden, sondern wir die Menüstruktur erst manuell
aufbauen müssen. Dies wollen wir nun in Kapitel 8 tun.

=== Das Menüsystem

Das Menüsystem in Joomla! besteht aus mehreren Bestandteilen, die wir
nun betrachten wollen.

==== Die Menübereiche

Joomla! arbeitet, anders als andere Systeme, nicht mit *einer* zentralen
Navigationsstruktur, sondern bietet die Möglichkeit, gleich *mehrere*
_Menübereiche_ auf einmal zu verwalten. Dadurch ist es beispielsweise
möglich, ein Hauptmenü für die eigentliche Hauptnavigation und ein
zweites Menü für die Navigation im unteren Teil der Seite für die
„lästigen Pflichtseiten“ wie Impressum oder die Datenschutz-Seite
anzulegen.

Eine Übersicht der angelegten Menüs findet sich unter Menüs ++>++
VERWALTEN, wo uns die bereits bekannte Listenansicht erwartet. In der
Liste sehen wir, dass dort bereits das standard­mäßig vorhandene Menü
_Main Menu_ angelegt ist.

Speziell sind hier eigentlich nur die verfügbaren Spalten:

* _Anzahl Menüeinträge:_ Anzahl der Menüeinträge im entsprechenden Menü,
die _Freigegeben_, _Gesperrt_ oder _Gelöscht_ sind
* _Zugeordnete Module:_ Listet alle _Module_ auf, die das entsprechende
_Menü_ auf der Seite darstellen. Dabei ist es möglich, dass ein _Menü_
an verschiedenen Stellen der Seite in mehreren Modulen ausgegeben wird.

image:book/08-navigationsstruktur/media/1.png[book/08-navigationsstruktur/media/1,width=548,height=199]

BILD 8.1 Übersicht der angelegten Menüs

==== Die Menüeinträge

Klicken wir auf den Titel des entsprechenden Menüs, so öffnet sich
nicht, wie erwartet, das Editierungsformular für das jeweilige Menü –
stattdessen gelangen wir zur Übersichtsliste der bereits angelegten
_Menüeinträge_ dieses Menüs.

image:book/08-navigationsstruktur/media/2.png[book/08-navigationsstruktur/media/2,width=548,height=175]

BILD 8.2 _Menüeinträge_ des standardmäßig angelegten _Main Menus_

Alternativ gelangen wir zur selben Ansicht, indem wir den direkten Weg
über den Aufruf des Links _Menüs ++>++ Main Menu_ in der
Navigationsleiste des Administrationsbereichs gehen.

Auch diese Listenansicht entspricht wieder dem bekannten Raster, hat
jedoch zwei Spezialitäten die es zu berücksichtigen gilt: zum Ersten ist
unter dem jeweiligen Titel der jeweilige _Menütyp_ angegeben. Zum
zweiten gibt es die Spalte _Startseite, die_ genutzt wird um den
Menüeintrag, der beim Aufruf unserer fertigen Seite als Erstes angezeigt
werden soll, mit einem Stern zu markieren. Standardmäßig finden wir hier
den Menüeintrag _Home_ vor, der bei der Installation von Joomla!
angelegt wird

=== Menüeinträge anlegen

Wir wollen nun damit beginnen, unsere Menüeinträge für die Internetseite
des Obsthofs von Bauer Birnennase anzulegen. Dafür öffnen wir das
entsprechende Formular durch einen Klick auf Neu in der Toolbar.

image:book/08-navigationsstruktur/media/4.png[book/08-navigationsstruktur/media/4,width=548,height=429]

BILD 8.3 Leeres Formular zum Anlegen eines neuen Menüeintrags

Das Formular ist wieder in der bekannten zweispaltigen Art und Weise
aufgebaut, bei der wir in der linken Spalte die wichtigsten Angaben zum
_Menüeintrag_ vornehmen und in der rechten Spalte und den folgenden Tabs
die zugehörigen Parameter bearbeiten können.

==== Menütypen

Der erste Parameter in der linken Spalte ist dabei der
_Menüeintragstyp_, der reguliert, welche Art von Inhalt durch den
Menüeintrag dargestellt wird.

Klicken wir auf den Button Auswählen, den wir rechts neben dem
Eingabefeld für den _Menütyp_ finden, so öffnet sich ein Popup, das uns
alle verfügbaren Menütypen auflistet.

image:book/08-navigationsstruktur/media/6.png[book/08-navigationsstruktur/media/6,width=548,height=464]

BILD 8.4 Popup der verfügbaren Menütypen

Diese _Menütypen_ werden aus den verschiedenen, in diesem Falle
vorinstallierten _Erweiterungen_ der Joomla!-Installation generiert und
bieten verschiedene Möglichkeiten, die in Tabelle 8.1 aufgelistet sind.

TABELLE 8.1 Menütypen einer standardmäßigen Joomla!-Installation

[width="100%",cols="37%,63%",]
|===
|Menütyp |Beschreibung

|Kontakte |

|Alle Kontaktkategorien auflisten |Listet alle in der
_Kontakt_-Komponente erstellten _Kategorien_ auf. Durch einen Parameter
kann die Liste eingeschränkt werden.

|Kontakte in Kategorie auflisten |Listet die _Kontakte_ einer per
Parameter auszuwählenden ­__Kategorie__ auf

|Einzelner Kontakt |Stellt ein einzelnes _Kontaktformular_ dar

|Hauptkontakte |Listet alle als _Haupteintrag_ markierten _Kontakte_ auf

|Newsfeeds |

|Alle Newsfeed-Kategorien auflisten |Listet alle in der
_Newsfeed_-Komponente erstellten _Kategorien_ auf. Kann durch Parameter
eingegrenzt werden.

|Newsfeeds in Kategorie auflisten |Listet die _Newsfeeds_ einer
_Kategorie_ auf

|Einzelner Newsfeed |Zeigt die Einträge eines einzelnen _Newsfeeds_

|Weblinks |

|Alle Weblinkskategorien auflisten |Listet alle in der
_Weblinks_-Komponente erstellten _Kategorien_ auf. Kann durch Parameter
eingegrenzt werden.

|Weblinks in Kategorie auflisten |Listet die _Weblinks_ einer Kategorie
auf

|Weblink einreichen |Erstellt ein Formular, das es _Nutzern_ mit den
entsprechenden Berechtigungen erlaubt, einen _Weblink_ im _Frontend_ der
Seite einzutragen

|Beiträge |

|Archivierte Beiträge |Generiert die Archivansicht, die alle als
_archiviert_ markierten _Beiträge_ aus sämtlichen Kategorien auflistet.
Die Filterung erfolgt über Eingabefelder für „Monat“ und „Jahr“, die
dann nur _Beiträge_ aus der Datenbank abrufen, deren Erstellungsdatum im
gewählten Zeitraum liegt.

|Einzelner Beitrag |Stellt einen einzelnen, per Parameter auszuwählenden
­__Beitrag__ dar

|Alle Kategorien auflisten |Listet alle, per Parameter einschränkbaren,
_Kategorien_ der _Beitrags_-Komponente auf

|Kategorieblog |Stellt alle einer per Parameter bestimmbaren _Kategorie_
­zugeordneten _Beiträge_ in einem Ein- oder Mehrspalten-Layout dar. Dabei
ist frei wählbar, ob nur der Einführungstext oder der Gesamttext der
_Beiträge_ angezeigt werden soll.

|Kategorieliste |Erstellt eine tabellarische Auflistung aller
_Beiträge_, die der per Parameter angegebenen _Kategorie_ zugeordnet
sind. In dieser Ansicht ist es *nicht* möglich, Einleitungs- oder
Gesamttexte der entsprechenden _Beiträge_ auszugeben.

|Hauptbeiträge |Listet alle als _Hauptbeitrag_ markierten Beiträge in
einer _Kategorienblog_-Ansicht auf

|Beitrag erstellen |Generiert ein Formular, das es Benutzern mit den
entsprechenden Berechtigungen erlaubt, einen neuen Beitrag im Frontend
der Seite einzureichen

|Suchindex |

|Suche |Generiert das _Suchformular_ für die verbesserte Suchkomponente
_Suchindex_

|Suche |

|Suchformular oder Suchergebnisse auflisten |Zeigt das
Standard-_Suchformular_ sowie die zugehörigen _Suchergebnisse_ im
Frontend. Das Formular kann per Parameter ausgeblendet werden, um
vordefinierte Suchen zu erstellen.

|Benutzer |

|Anmeldeformular |Zeigt das Login-Formular

|Benutzerprofil |Zeigt das Benutzerprofil des jeweiligen, gerade
angemel­deten _Benutzers_

| |

|Benutzerprofil bearbeiten |Zeigt ein Formular, über das der angemeldete
_Benutzer_ seine Profilangaben verändern kann

|Registrierungsformular |Zeigt das Registrierungsformular, das einem
Besucher ­erlaubt, einen Account auf der Seite anzulegen

|Benutzername erneut zusenden |Generiert das Formular, das dem
_Benutzer_ erlaubt, sich ­einen vergessenen _Benutzernamen_ an seine
_E-Mail-Adresse_ zu senden

|Passwort zurücksetzen |Generiert das Formular, das dem _Benutzer_
erlaubt, sein Passwort zurücksetzen zu lassen

|Abmelden |Link der einen Nutzer direkt aus der Seite ausloggt.

|Wrapper |

|Iframe-Wrapper |Erstellt einen iframe, in dem eine per Parameter frei
wählbare URL dargestellt wird

|Systemlinks |

|Externe URL |Erlaubt die Eingabe einer internen oder externen URL, die
dann als Ziel des _Menüeintrags_ gesetzt wird

|Menü-Überschrift |Erzeugt eine nicht-verlinkte Zwischenüberschrift im
Menü

|Menüalias |Stellt eine Verknüpfung zu einem bereits bestehenden
_Menüeintrag_ dar

|Texttrennzeichen |Erlaubt die Eingabe eines beliebigen Texts, der nicht
verlinkt wird, sondern als Gestaltungselement dient

|Konfiguration |

|Template-Optionen |Zeigt die Parameter des jeweiligen _Templates_ im
Frontend an

|Website-Konfiguration |Zeigt die Einträge der _globalen Konfiguration_
der Seite im Frontend an

|Schlagwörter (Tags) |

|Kompaktliste der verschlagworteten Einträge |Zeigt eine kompakte Liste
von Inhalten die mit ausgewählten _Schlagwörtern_ markiert wurden

|Liste aller Schlagwörter |Zeigt eine Liste aller _Schlagwörter_

|Verschlagwortete Einträge |Zeigt eine ausführlichere Liste von Inhalten
die mit ausgewählten _Schlagwörtern_ markiert wurden
|===

Wir wählen im ersten Schritt den Menütyp Beiträge ++>++ Einzelner
Beitrag aus, um unseren Willkommenstext darzustellen. Warum dieser
Menütyp? Das lässt sich mit logischem Denken erschließen: Der Text ist
ein *Beitrag*, weshalb zur Darstellung nur die _Menütypen_ der
_Beitragskomponente_ infrage kommen. Außerdem wollen wir nicht gleich
eine ganze Kate­gorie, sondern nur einen *einzelnen Beitrag* darstellen,
woraus sich dann der passende Menütyp ergibt.

==== Menüeintrags-Parameter

Nach dem Klick auf den Menütyp schließt sich das Popup, und wir gelangen
zurück zur Formularansicht. Dort machen wir uns nun daran, die
Eingabefelder im ersten Tab auszufüllen:

* _Menütitel:_ Text, der später als Schaltfläche in der Navigation
dienen soll
* _Alias:_ Erlaubt die manuelle Beeinflussung der URL, die der spätere
Untermenüpunkt hat. Wird automatisch aus dem Titel generiert, wenn das
Feld leer gelassen wird.
* _Notiz:_ Internes Feld, um Informationen für andere Administratoren zu
hinterlegen
* _Link:_ Gibt automatisch den, durch die Wahl des Menütyps
vorgegebenen, systeminternen Link aus
* _Status:_ Erlaubt uns zu wählen, ob ein Menüeintrag _Freigegeben_ (im
Frontend sichtbar), _Gesperrt_ (im Frontend unsichtbar) oder _im
Papierkorb_ sein soll
* _Zugriffsebene:_ Steuert, für welche Benutzer der entsprechende
Menüeintrag sichtbar bzw. unsichtbar sein soll
* _Menü:_ Steuert, welchem _Menübereich_ der gerade zu erstellende
Eintrag zugeordnet werden soll
* _Übergeordneter Beitrag:_ Erlaubt es, durch die Angabe eines
übergeordneten Beitrags, eine verschachtelte Menüstruktur mit mehreren
Ebenen zu erstellen
* _Reihenfolge:_ Erlaubt die Festlegung der Reihenfolge der
Menüeinträge. Ist erst nach dem ersten Speichern verfügbar.
* _Zielfenster:_ Setzt das target-Attribut des Links und erlaubt dadurch
zu steuern, ob der Menüeintrag „im gleichen Fenster“, in einem „neuen
Fenster mit Navigation“ (target="++_++blank") oder in einem „neuen
Fenster ohne Navigation“ (auf JavaScript basierendes Popup) geöffnet
werden soll
* _Standardseite:_ Legt fest, ob der entsprechende Menüeintrag als
Startseite für diese Joomla!-Seite dienen soll
* _Sprache:_ Legt fest, welcher _Sprache_ der Menüeintrag zugeordnet ist
* _Template-Stil:_ Erlaubt es, diesem Menüeintrag ein separates
_Template_ bzw. einen separaten Templatestil zuzuweisen. Nützlich, um
bestimmten Seitenbereichen ein alternatives Design zu verschaffen.
* {blank}

Was tragen wir bei unserem geplanten Menüeintrag _Willkommen_ ein? Da
der entsprechende Menüeintrag im Frontend auch „Willkommen“ heißen soll,
tragen wir dies als _Menütitel_ ein – und weil dieser Eintrag auf der
finalen Seite als Startseite fungieren soll, setzen wir den Parameter
_Standardseite_ auf „Ja“.

image:book/08-navigationsstruktur/media/8.png[book/08-navigationsstruktur/media/8,width=548,height=383]

BILD 8.5 Formular zum Erstellen eines neuen Menüeintrags mit den
ausgefüllten Feldern für den ersten Eintrag _Willkommen_

Wenn wir jetzt versuchen, das Formular über einen Klick auf Speichern &
Schliessen zu verlassen, werden wir dadurch, dass Joomla! das
Eingabefeld _Beitrag wählen_ in der linken Spalte rot umrandet, subtil
darauf hingewiesen, dass wir doch noch etwas vergessen haben. Wir
erinnern uns erneut: Es gibt keinen direkten Zusammenhang zwischen Menü-
und Inhaltsstruktur, sodass für das System zu diesem Zeitpunkt noch
nicht klar sein kann, welcher _Beitrag_ hier denn später angezeigt
werden soll – dies müssen wir erst manuell über den entsprechenden
Parameter vornehmen.

Klicken wir auf den entsprechenden Button Auswählen, so öffnet Joomla!
ein Popup mit allen vorhandenen Beiträgen und erlaubt es uns, durch
Klick auf den entsprechenden Beitrag, die Verknüpfung zwischen dem
_Menüeintrag_ und dem _Beitrag_ herzustellen.

[width="99%",cols="14%,86%",options="header",]
|===
|CHV++_++BOX++_++ID++_++01 |
|icn001 |Seit Joomla 3.7 ist es bei vielen Menüeintragstypen auch
möglich den jeweiligen Inhalt (z.B. einen Beitrag oder eine Kategorie)
auch direkt beim Anlegen eines neuen Menüeintrags zu erstellen bzw. zu
bearbeiten, die entsprechende Schaltfläche befindet sich neben dem
Button _Auswählen_
|===

image:book/08-navigationsstruktur/media/10.png[book/08-navigationsstruktur/media/10,width=548,height=409]

BILD 8.6 Popup zur Auswahl des zuzuordnenden Beitrags

Betrachten wir nun einmal die zahlreichen weiteren, uns zur Bearbeitung
angebotenen Parameter in den weiteren Tabs. Dort finden wir nach dem
Klick auf die _Optionen_ nun zum dritten Mal die Möglichkeit, die
bereits bekannten Beitragsparameter anzupassen – aber in welchem
Verhältnis stehen diese verschiedenen Bereiche untereinander? Welcher
Bereich überschreibt die Parameter eines anderen?

Wie in Bild 8.7 gezeigt, gibt es im Normalfall drei verschiedene
Stellen, an denen die Parameter gesetzt werden können – nämlich in den
Parametern der jeweiligen _Komponente_, in den Parametern des jeweiligen
_Beitrags_ und in den Parametern des zugehörigen _Menüeintrags_. Dabei
überschreiben die Parameter eines _Menüeintrags_ die Parameter eines
_Beitrags_, die wiederum die Parameter der _Komponente_ überschreiben.

image:book/08-navigationsstruktur/media/11.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++8++\++Bild623.PNG,width=325,height=241]

BILD 8.7 Vererbung bzw. Überschreibung der Parameter für Beiträge

Klingt furchtbar kompliziert? Ist es aber eigentlich nicht! Machen Sie
sich dieses System ganz einfach zunutze, indem Sie die Parameter, die
für die Mehrheit aller _Beiträge_ gelten sollen, in den Optionen der
_Beitragskomponente_ setzen. Für einzelne _Beiträge_, die an
verschiedenen Stellen ein besonderes Verhalten an den Tag legen sollen,
erledigen Sie dies über die Parameter im _Beitrag_, und für individuelle
Seiten im Frontend erfolgt die Konfiguration über die _Menüparameter_.

Neben diesen Parametern, die natürlich in Abhängigkeit vom jeweiligen
_Menütyp_ stehen, verfügt jeder Menüeintrag über einige Parameter, die
bei allen _Menütypen_ identisch sind. Diese sind in der Tabelle 8.2
beschrieben.

TABELLE 8.2 Beschreibung der allgemeinen Menüeintrags-Parameter

[width="100%",cols="33%,67%",]
|===
|Parameter |Beschreibung

|Linktypoptionen |

|Titel-Attribut für Menülink |Bestimmt das title-Attribut des
Menüeintrags, das sowohl für Suchmaschinen als auch unter dem
Gesichtspunkt der ­Barrierefreiheit wichtig ist

|CSS-Style für Link |Setzt das class-Attribut des jeweiligen
Menüeintrags und erlaubt dadurch das individuelle Styling bestimmter
Menüeinträge mittels CSS

|Bild zum Link |Ermöglicht die Auswahl einer über den _Bildmanager_
hochgeladenen Grafik, die dann neben dem _Menütitel_ als Schaltfläche
des Menüeintrags dient

|Menütitel hinzufügen |Erlaubt es, bei der Verwendung eines _Bildlinks_,
den _Menütitel_ auszublenden

|Im Menü anzeigen |Erlaubt es, Menüeinträge anzulegen die dann nicht im
Menü angezeigt werden. Nützlich zur Beeinflussung von URLs (siehe
Kapitel 12, Suchmaschinenoptimierung). *Hinweis für alte Hasen:* diese
Funktion macht Schattenmenüs überflüssig!

|Seitenanzeige |

|Seitentitel im Browser |Legt den Inhalt des ++<++title++>++-Tags im
Head des HTML-Dokuments fest

|Seitenüberschrift anzeigen |Zeigt die _Seitenüberschrift_ der
aufgerufenen Seite

|Seitenüberschrift |Erlaubt es, die _Seitenüberschrift_ der aufgerufenen
Seite manuell zu setzen

|Seitenklasse |Fügt eine frei wählbare CSS-Klasse zu verschiedenen
Seitenelementen hinzu und erlaubt dadurch das Anwenden von
seitenspezifischen Stylings

|Metadaten |

|Meta-Beschreibung |Meta-Description der Seite

|Meta-Schlüsselworte |Meta-Keywords der Seite

|Robots |Inhalt des Robot-Tags

|Secure |Erlaubt dem Administrator, die Nutzung von SSL bei diesem
_Menüeintrag_ zu erzwingen. Sinnvoll bei Anmeldeformular o. Ä.

|Modulzuweisung |Listet alle _Module_ auf, die diesem Menüeintrag
zugeordnet sind
|===

Für uns ist zum jetzigen Zeitpunkt aber erst einmal kein spannender
Parameter dabei, weshalb wir den Vorgang mit einem Klick auf Speichern &
Schliessen abschließen. Dadurch gelangen wir zurück zur Übersichtsseite
und bewundern unser neu geschaffenes Werk.

image:book/08-navigationsstruktur/media/13.png[book/08-navigationsstruktur/media/13,width=548,height=194]

BILD 8.8 Übersicht der _Menüeinträge_ im _Main Menu_ nach dem Hinzufügen
des neuen Eintrags ­__Willkommen__

Dieses Verfahren wenden wir nun in identischer Art und Weise bei den
Menüpunkten _Der Obsthof_, _Hofladen_, _Impressum_ und _Was ist Obst?_
an, was uns vor keinerlei Probleme stellen sollte, da es sich bei diesen
_Menüeinträgen_ jeweils um einen Eintrag vom Typ _Einzelner Beitrag_
handelt.

Außerdem löschen wir den standardmäßig vorhandenen Menüeintrag _Home_,
indem wir ihn nach dem bereits bekannten Verfahren mit der Checkbox am
Zeilenbeginn markieren und den Papierkorb-Button in der _Toolbar_
betätigen.

==== Kategorienauflistungen

Spannender wird es nun beim Menüeintrag _Obstsorten_, der unseren
Planungen entsprechend dafür genutzt werden soll, alle angebauten
Obstarten (Birnen, Äpfel, Trauben) in einer anklickbaren Liste
auszugeben.

Dafür öffnen wir erneut das Formular zum Anlegen eines neuen
Menüeintrags und wählen dieses Mal den _Menüeintragstyp_ _Beiträge ++>++
Alle Kategorien auflisten_. Anschließend setzen wir in der linken Spalte
die Kategorie _Obst_ als oberste Kategorienebene, wodurch nur die
Unterkategorien von _Obst_ angezeigt werden.

image:book/08-navigationsstruktur/media/15.png[book/08-navigationsstruktur/media/15,width=548,height=330]

BILD 8.9 Auswahl der Kategorie _Obst_ als oberste Kategorienebene

Verlassen wir diesen Dialog nun über einen Klick auf Speichern &
Schliessen und rufen wir im Frontend den gerade angelegten Menüeintrag
auf, so finden wir eine Darstellung vor, die der in Bild 8.10
entsprechen sollte.

image:book/08-navigationsstruktur/media/17.png[book/08-navigationsstruktur/media/17,width=548,height=365]

BILD 8.10 Ausgabe des Menüpunkts _Obstsorten_ ohne Anpassung der
Ausgabeparameter

Stört Sie etwas? Mich persönlich schon! Denn sind wir mal ehrlich, die
Anzahl der jeweiligen zugeordneten Beiträge interessiert doch eigentlich
niemanden, oder? Wie aber werden wir diese unnütze Information los?

Dazu wechseln wir zurück zum Editierungsformular des gerade angelegten
Menüpunkts, indem wir ihn in der Übersichtsliste im Backend anklicken.
Dort finden wir in den Parametern (rechte Spalte) gleich zwei Tabs mit
Optionen zum Thema _Kategorien_ mit dem für uns relevanten Parameter _#
Beiträge in Kategorie_ (siehe Bild 8.11).

Wundern Sie sich auch gerade und fragen sich, warum diese
Kategorienparameter doppelt vorhanden sind? Keine Sorge, auch dafür gibt
es eine Erklärung: Stellen Sie sich Folgendes vor: Wäre die Kategorie
_Äpfel_ durch eine weitere Kategorienebene nochmals in _große Äpfel_ und
_kleine Äpfel_ gegliedert, dann würde bei einem Klick auf die Kategorie
_Äpfel_ im Frontend eine weitere Auflistung aller Unterkategorien
(_große Äpfel, kleine Äpfel_) geöffnet. Wir haben es also hier mit zwei
Ebenen von Kategorienauflistung zu tun:

* die Auflistung der _Kategorien_ beim Aufruf des _Menüeintrags_
* die Auflistung der _Unterkategorien_ einer _Kategorie_ (nach dem
ersten Klick)

Da es zwei verschiedene Ebenen gibt, sieht Joomla! auch zwei
verschiedene Reiter für Kategorieoptionen vor, wobei die Parameter des
ersten Reiters _Kategorien_ für die Darstellung der ersten und die
Parameter des zweiten Reiters _Kategorie_ für die Darstellung der
zweiten Ebene zuständig sind. Uns hilft diese Erkenntnis dahingehend,
dass wir nun wissen, dass der für uns relevante Parameter zur
Ausblendung der Beitragsanzahl _(# Beiträge in Kategorie_) im oberen
Reiter _Kategorien_ sitzt. Außerdem nutzen wir die Gelegenheit, die
ebenfalls störende _Unterkategoriebeschreibung_ zu entfernen (siehe Bild
8.12).

image:book/08-navigationsstruktur/media/18.png[book/08-navigationsstruktur/media/18,width=548,height=202]

BILD 8.11 Parameter des Menütyps „Alle Kategorien auflisten“

image:book/08-navigationsstruktur/media/21.png[book/08-navigationsstruktur/media/21,width=548,height=251]

BILD 8.12 Veränderte _Kategorieoptionen_ zum Verbergen störender
Ausgaben

Diese Änderungen übernehmen wir nun mit einem erneuten Klick auf
Speichern & Schliessen und betrachten die Früchte unserer Arbeit im
_Frontend_.

==== Kategorienblogs

Kommen wir nun zu den drei vom Auftraggeber gewünschten Untermenüpunkten
_Birnen_, _Äpfel_ und _Trauben_, die jeweils die Beiträge der
gleichnamigen Kategorie ausgeben sollen. Dabei legt unser Auftraggeber
viel Wert darauf, dass nicht nur der Name der jeweiligen Sorte
ausgegeben wird (was für den Menütyp _Kategorieliste_ gesprochen hätte),
sondern auch ein kurzer Einführungstext zur jeweiligen Sorte sichtbar
sein soll. Die genauere Beschreibung mit einigen „Eckdaten“ (Geschmack,
fest/mehlig, Eignung) soll dann nach einem Klick auf den Sortennamen
erreichbar sein.

Um diese Anforderung zu erfüllen, verändern wir im ersten Schritt die
Beiträge der einzelnen Sorten so, dass Sie über einen kurzen
Beschreibungstext sowie eine Auflistung der Eigenschaften verfügen. Die
beiden Texte sind dabei durch einen _Weiterlesen_-Trenner (siehe Kapitel
7.2.2.5, „Weiterlesen-Funktion“) voneinander separiert (siehe Bild
8.13).

image:book/08-navigationsstruktur/media/22.png[book/08-navigationsstruktur/media/22,width=548,height=321]

BILD 8.13 Beispieltext mit _Weiterlesen_-Trenner

Ist dies erledigt, wechseln wir zurück in die _Menüeintrags_-Übersicht
des _Main Menu_ und beginnen durch einen Klick auf Neu in der Toolbar
mit dem Anlegen eines weiteren Menüpunkts. Dort wählen wir als _Menütyp_
_Beiträge ++>++ Kategorieblog_ und vergeben _Äpfel_ als Menütitel. Nun
kommt der spannende Teil: Wie bringen wir Joomla! dazu, dass es diesen
neuen _Menüeintrag_ als untergeordneten Menüpunkt von _Obstsorten_
versteht? Ganz einfach! Wir wählen _Obstsorten_ mit dem gleichnamigen
Parameter als _Übergeordneten Eintrag_ aus, um die entsprechende
Zuordnung vorzunehmen.

Nun wählen wir in den Parametern (linke Spalte) noch die Kategorie
_Äpfel_ unter _Kategorie auswählen_, um festzulegen, welche Beiträge
hier denn überhaupt angezeigt werden sollen (siehe Bild 8.14).

image:book/08-navigationsstruktur/media/25.png[book/08-navigationsstruktur/media/25,width=548,height=307]

BILD 8.14 Formular zum Anlegen des neuen Menüeintrags Äpfel

Wenn wir die Änderungen am Menüeintrag nun mittels Klicks auf Speichern
anwenden und in einem zweiten Fenster den entsprechenden Link im
_Frontend_ öffnen, so stellen wir fest, dass wir unserem Ziel schon
relativ nah sind (siehe Bild 8.15), aber die zweispaltige Darstellung
der Beiträge noch nicht unseren Vorstellungen entspricht.

image:book/08-navigationsstruktur/media/27.png[book/08-navigationsstruktur/media/27,width=548,height=424]

BILD 8.15 Darstellung des _Kategorieblogs_ im Frontend

Dieses Verhalten können wir nun im Parameter-Reiter _Blog-Layout_ des
Menüeintrags anpassen, indem wir durch die Eingabe des entsprechenden
Werts die Nutzung von nur einer Spalte erzwingen (siehe Bild 8.16).

image:book/08-navigationsstruktur/media/29.png[book/08-navigationsstruktur/media/29,width=548,height=249]

BILD 8.16 Anpassung der Spaltenanzahl durch Veränderung der
_Blog-Layout-Optionen_

Wandern wir jetzt mit dem Blick nochmal nach oben zu den Tabs für die
Parameterbereich, so sehen wir, dass es auch hier wieder einen Tab für
die _Optionen_ der Beiträge gibt, der mit den gleichen Parametern
aufwarten kann, die wir bereits kennen. Erinnern Sie sich noch an das
Bild 8.7? Darin habe ich versucht zu erklären, wie _Komponenten_-,
_Menüeintrags_- und _Beitragsparameter_ zusammenhängen. Nun muss ich
Ihnen leider beichten, dass ich nicht ganz ehrlich war und Ihnen die
vierte Ebene verschwiegen habe, wo man diese Einstellungen ändern kann:
über die Parameter des _Kategorie-Menüeintrags_. Werfen wir einen Blick
auf Bild 8.17, um zu verstehen, wo sich diese 4. Ebene zwischenschiebt.

Wir stellen also fest, dass sich diese Ebene zwischen die _Beitrags_-
und die _Menüeintragsparameter_ legt, woraus sich folgender Vorteil
ergibt: Haben wir eine _Kategorie_, in der beispielsweise alle
_Beiträge_ mit einer Autorenangabe versehen werden sollen, so können wir
diese Ausgabe in den _Komponenten-Parametern_ weiterhin ausgeblendet
lassen. In den Parameter in den _Beitragsoptionen_ der jeweiligen
_Kategorie_ stellen wir die Ausgabe um – dadurch ersparen wir uns die
manuelle Festlegung des Parameters bei jedem einzelnen _Beitrag_.
Trotzdem können wir die _Beitrags_-Parameter, falls gewünscht, als
Vorgabe nutzen.

Finden Sie diese Erklärung irgendwie zu abstrakt? Ich ehrlich gesagt
auch. Probieren wir’s doch mal mit einem konkreten Beispiel: Erinnern
Sie sich daran, dass wir in den _Optionen_ der _Beitragskomponente_ den
Parameter _Beitragsbewertung_ auf „Aus“ gestellt haben, da wir beim
Großteil der Inhalte kein Bewertungssystem brauchen? Wir möchten den
Parameter nun so verändern, dass der Seitennutzer die verschiedenen
Apfelsorten bewerten kann, sodass unser Bauer weiß, welche Sorte er in
Zukunft verstärkt anbauen muss.

Dafür setzen wir den Parameter _Beitragsbewertung_ in im Reiter
_Optionen_ des Menüeintrags _Äpfel_ auf „anzeigen“, beenden das
Bearbeiten des Eintrags mittels Speichern & Schliessen und rufen das
Frontend auf.

image:book/08-navigationsstruktur/media/30.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++8++\++Bild787.PNG,width=335,height=295]

BILD 8.17 Ergänztes Vererbungssystem für Beitragsparameter

Dort sehen wir nun, dass sich bei den Beiträgen wie _Willkommen_ oder
der _Hofladen_ nichts verändert hat – nur der Menüeintrag _Äpfel_
verfügt nun über die Möglichkeit, die Sorten zu bewerten.

image:book/08-navigationsstruktur/media/32.png[book/08-navigationsstruktur/media/32,width=548,height=394]

BILD 8.18 Menüeintrag _Äpfel_ mit Bewertungsmöglichkeit nach Anpassung
der Parameter

Wenn man also genauer darüber nachdenkt, wird diese _Vererbung von
Parametern_ zu einem sehr mächtigen Feature, weil es uns erlaubt,
grundsätzliche Vorgaben für die gesamte Seite anzulegen, die dann aber
bei Bedarf _überschrieben_ werden können.

Nachdem wir nun den _Kategorieblog_ für Äpfel fertiggestellt haben,
gehen wir in identischer Art und Weise für die Kategorien Birnen und
Trauben vor – nutzen Sie dabei auch den Button Als Kopie Speichern, der
es Ihnen erlaubt, einen bestehenden Menüeintrag (_Äpfel_) zu öffnen, zu
editieren (_Titel, Alias_ und _Kategorie_ anpassen) und anschließend
_als Kopie_ zu speichern, ohne den ursprünglichen Eintrag zu
überschreiben. Schlussendlich sollten Sie eine Menüstruktur erhalten,
die der in Bild 8.19 dargestellten entspricht. Sollte z. B. die
Reihenfolge der Einträge nicht stimmen, so können wir diese über die
Drag&Drop Symbole in der Spalte _Reihenfolge_ anpassen.

image:book/08-navigationsstruktur/media/34.png[book/08-navigationsstruktur/media/34,width=548,height=220]

BILD 8.19 Menüstruktur der Beispielseite nach Anwendung aller Änderungen
und Anpassungen dieses Kapitels

=== Split-Navigationen anlegen

Abschließend möchte ich noch auf einen Navigationstyp eingehen, den wir
in unserem konkreten Beispiel nicht nutzen. Aufgrund seiner hohen
Verbreitung möchte ich dennoch darauf eingehen: die _Split-Navigation_.

Bei dieser Navigation teilt sich die Navigationsstruktur in zwei oder
mehr Bereiche auf, die dann an unterschiedlichen Stellen der Seite
angezeigt werden. Oftmals zeigt man dabei die erste Navigationsebene in
einer horizontalen Leiste unterhalb des Headers an, die jeweils
zugehörigen Untermenüpunkte werden dann in einer vertikalen Leiste in
der linken oder rechten Spalte der Seite angezeigt (siehe Bild 8.20 und
Bild 8.21).

image:book/08-navigationsstruktur/media/35.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++8++\++Bild811.PNG,width=476,height=248]

BILD 8.20 Split-Navigation „Schulleben“

image:book/08-navigationsstruktur/media/36.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++8++\++Bild822.PNG,width=502,height=219]

BILD 8.21 Split-Navigiation „Unsere Schule“

Die gesamte Menüstruktur ist in einem einzelnen Menü hinterlegt, jedoch
werden zur Ausgabe zwei verschiedene Module (siehe Kapitel 10.1.3,
„Module: Das RSS-Feed-Modul einbinden“) genutzt, die wir in der
_Modulverwaltung_ des _Backends_ unter Erweiterungen ++>++ Module
finden. Betrachten wir die Parameter des oberen _Moduls_, das die erste
Navigationsebene darstellt, so finden wir die Möglichkeit zu definieren,
welche _Menüebenen_ des gewählten Menüs in diesem Modul dargestellt
werden sollen (siehe Bild 8.22). Durch die Wahl des Werts „1“ beim
Parameter _Letzte Ebene_ stellen wir sicher, dass nur _Menüeinträge_ der
ersten Ebene in diesem Modul angezeigt werden.

image:book/08-navigationsstruktur/media/38.png[book/08-navigationsstruktur/media/38,width=548,height=251]

BILD 8.22 Parameter zur Beeinflussung der dargestellten Menüebene

Dementsprechend setzen wir den Parameter _Erste Ebene_ des Moduls für
die linke Navigation auf „2“, damit dort nur Menüeinträge ab der zweiten
Ebene dargestellt werden. Dadurch ist es möglich, sehr flexible
Menüsysteme aufzubauen.

image:book/08-navigationsstruktur/media/40.png[book/08-navigationsstruktur/media/40,width=548,height=253]

BILD 8.23 Parameter des Moduls zur Darstellung der zweiten Menüebene
