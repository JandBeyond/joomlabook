==== JCE

===== Installation und Konfiguration

Standardmäßig bringt Joomla! zum Bearbeiten von Texten aller Art die
zwei Editoren TinyMCE und CodeMirror mit.

Während CodeMirror ein reiner Text-Editor mit Syntax-Highlighting ist,
handelt es sich bei TinyMCE um einen vollwertigen WYSIWYG-Editor, der
auf dem beliebten, gleichnamigen, unter GPL verfügbaren Skript basiert.
Der TinyMCE wird von zahlreichen weiteren Content-Management-Systemen
genutzt und zeichnet sich durch eine vergleichsweise einfache Bedienung
und qualitativ soliden Code aus, hat jedoch in der von Joomla!
eingesetzten Version noch einige Schwächen und ist zudem z.B. beim
Einbinden von Bildern über den Medien-Manager eine Spur zu
unkomfortabel, was effektives Arbeiten bremst.

Daher gibt es eine auf den Einsatz in Joomla! angepasste Version des
TinyMCE, der sich „Joomla! Content Editor“ bzw. einfach nur
„JCE“footnote:[[.underline]#http://www.joomlacontenteditor.net/#] nennt.
Der Editor, der unter GPL zur Verfügung steht und dessen Entwicklung
sich über eine kostenpflichtige Pro-Version finanziert, erleichtert die
Arbeit mit Inhalten enorm und ist daher für mich eine der ersten
Erweiterungen, die ich in jeder neuen Joomla!-Installation einspiele.
Die kostenpflichtige Version ist in einem Abonnement erhältlich, das
sich durch einen äußert fairen Preis von derzeit 25 Euro jährlich
auszeichnet und daher eine gute Investition darstellt.

Nach dem Herunterladen der Installationspakete für den Editor und des
Mediabox-Plug-ins sowie dem Einspielen über den Erweiterungsmanager
verankert sich der JCE mit einem Editor-Plug-in und einer Komponente zur
Administration im Backend, die wir über einen Klick auf Komponenten
++>++ JCE Editor öffnen.

[width="99%",cols="14%,86%",]
|===
| |
|===

[width="99%",cols="14%,86%",options="header",]
|===
|CHV++_++BOX++_++ID++_++01 |
|icn001 |*Praxistipp:* Eine großartige Funktion des JCE, die sich
insbesondere bei der Bedienung durch Endnutzer bewährt, ist die saubere
Verarbeitung von Inhalten, die aus MS Word kopiert wurden. Word
hinterlegt nämlich beim Kopieren zahlreiche unsichtbare, aber für uns
störende Formatierungen im Editor, die zu unerwarteten Formatierungen
führen und den Normalnutzer oft verzweifeln lassen. Der JCE erkennt beim
Einfügen die Quelle des Texts, säubert den Inhalt von allen
überflüssigen Formatierungen und wandelt die Formatierungen
(Überschriften, Listen) dabei zugleich in valides HTML um.
|===

Standardmäßig liefert der JCE leider keine deutschen Sprachdateien mit
und auch eine offizielle deutsche Übersetzung sucht man vergebens – was
ärgerlich ist, da ja dadurch auch alle Dialoge im eigentlichen Editor in
englischer Sprache sind, was dem Komfort nicht unbedingt zugutekommt.
Glücklicherweise gibt es eine Vielzahl von inoffiziellen
Übersetzungspaketen, aus denen sich insbesondere das Übersetzungspaket
von
hst-pc.defootnote:[[.underline]#http://www.hst-pc.de/joomla-jce-editor.html#]
durch die Qualität und Vollständigkeit der Übersetzung positiv abhebt.
Dieses Übersetzungspaket können wir nach dem Herunterladen über die
Joomla-Erweiterungsverwaltung.

image:book/18-best-practices/media/8.png[book/18-best-practices/media/8,width=548,height=222]

BILD 18.4 Installation der deutschen Sprachdateien für den JCE

Die Verwaltungskomponente bietet nun die folgenden Optionen.

[width="100%",cols="27%,73%",]
|===
|Menüpunkt |Beschreibung
|Kontrollzentrum |Übersicht über die verschiedenen Optionen
|Editor-Konfiguration |Allgemeine Konfigurationsoptionen
|Profile |Verwaltung der verschiedenen Editor-Profile
| |
|===

Ein Klick auf Editor-Konfiguration eröffnet dem Administrator diverse
Konfigurationsmöglichkeiten.

[width="100%",cols="28%,72%",]
|===
|Konfigurationsoption |Beschreibung

|HTML überprüfen |Untersucht den erzeugten HTML-Code auf ungültige
Elemente, nicht geschlossene Tags und weiteren unsauberen HTML-Code und
versucht diesen zu reparieren

|Dokumententyp |Erlaubt die Festlegung des HTML-Modus auf HTML4 bzw. 5

|Objektkodierung |Kodierung von Sonderzeichen (Umlaute, €-Zeichen usw.)
– mögliche Optionen sind „UTF-8“ (empfehlenswert), „_benannt_“
(Ersetzung durch HTML-Entities: ö wird zu &ouml;) oder „_nummeriert_“ (ö
wird zu &#246;)

|Behalte geschützte Leerzeichen |Beeinflusst ob der Editor die sog.
Non-Breaking-Spaces (&nbsp;) aus dem Text entfernt

|Fülle leere Tags |Steuert, ob der Editor leere Tags mit einem
geschützten Leerzeichen (siehe oben) füllt

|Pluginmodus |Unterdrückt das Kodieren von & und ‚ beim Speichern.
Debugging-Option für schlecht programmierte Joomla!-Erweiterungen.

|Containerelement & Entertaste benutzen |Standardelement für neue
Element im Editor und das Verhalten nach dem Drücken der Enter-Taste

| |

|Editorstil zurücksetzen |Die Auswahl von „Ja“ ignoriert die
Formatierungen für Hintergrund- und Textfarbe, die in der template.css
hinterlegt sind

|Editorstil |Formatierung der Editor-Inhalte über die CSS-Definitionen
aus einer „eigenen CSS-Datei“, der „Template-CSS-Datei“ oder ganz ohne
CSS-Definitionen

|Eigene CSS-Datei |Pfad zur eigenen CSS-Datei

|Editor-Klasse |Ein CSS-Klasse, die der Editor um den Textbereich legt
um die korrekte Darstellung des Inhalts zu gewährleisten

|JavaScript komprimieren |JavaScript des Editors komprimieren. Erzeugt
eventuell Probleme in älteren Browsern.

|CSS komprimieren |CSS komprimieren. Erzeugt eventuell Probleme in
älteren Browsern.

|Mit Gzip komprimieren |GZIP-Komprimierung der Editor-Dateien. Nicht von
allen Servern unterstützt.

|Cookies benutzen |Cookies zum Speichern des Editorstatus (Editor an/aus
etc.) nutzen

|Benutzerdefinierte Konfigurationsvariablen a|
Eigene Variablen an den Editor übergeben

Dokumentation:
[.underline]#http://tinymce.moxiecode.com/wiki.php/Configuration#

|Benutzerdefinierte Callbackdatei |Angabe einer eigenen Datei für
TinyMCE-Callback-Aufrufe
|===

Die Standardeinstellungen des JCE sind hierbei durchaus sinnvoll
gesetzt, sodass im Normalbetrieb keine Anpassungen notwendig sind.

Eine Eigenheit des JCE im Vergleich zum integrierten Editor ist die
Möglichkeit, verschiedene Profile zu erstellen, die sich unter dem
gleichnamigen Menüpunkt verwalten lassen.

image:book/18-best-practices/media/10.png[book/18-best-practices/media/10,width=548,height=238]

BILD 18.5 Übersicht der Standardprofile des JCE

Diese Profile können genutzt werden, um eine angepasste Version des
Editors zu bestimmten Komponenten, Seitenbereichen (Frontend/Backend),
Benutzergruppen oder Benutzern oder sogar Gerätetypen (z.B. Smartphones)
zuordnen zu können. Standardmäßig wird nur das _Default_-Profil genutzt,
das sich nach einem Klick auf den gleichnamigen Eintrag bearbeiten
lässt.

image:book/18-best-practices/media/12.png[book/18-best-practices/media/12,width=548,height=388]

BILD 18.6 Allgemeine Parameter des Default-Profils

Die Konfigurationsoptionen sind dabei in mehrere Tabs eingeteilt.

[width="100%",cols="29%,71%",]
|===
|Titel des Tabs |Beschreibung

|Einstellungen |Allgemeine Konfigurationsparameter und
Zuordnungsmöglichkeiten des Profils

|Funktionen |Verwaltung der verfügbaren Editoroptionen

|Editoreinstellungen |Anpassungsmöglichkeiten für allgemeine
Editorparameter

|Plugin-Einstellungen |Parameter der installierten Plug-ins
|===

Die Einstellungen können im Regelfall unangetastet bleiben, extrem
interessant sind jedoch die Anpassungsmöglichkeiten, die uns im
_Funktionen_-Tab zur Verfügung stehen.

image:book/18-best-practices/media/14.png[book/18-best-practices/media/14,width=548,height=380]

BILD 18.7 Festlegung des Editorlayouts mittels Drag & Drop

Hier können wir mittels einer leicht nutzbaren Drag & Drop-Oberfläche
beliebige Icons aus der Editor-Toolbar hinzufügen oder entfernen, indem
wir sie aus der Übersicht der _Verfügbaren Schaltflächen_ in das
_Aktuelle Editorlayout_ verschieben und umgekehrt.

Worin liegt der Vorteil dieser Funktionalität? Wir können durch die
Entfernung von Optionen wie _Schriftgröße_, _Schriftart_ oder
_Schriftfarbe_ Funktionen beschneiden, die von unerfahrenen Nutzern
gerne verwendet werden, um Texte „abwechslungsreicher“ zu gestalten. Da
dies bei einem professionellen Webauftritt jedoch in der Regel nicht
erwünscht ist, können wir diesen Formatierungsorgien einen Riegel
vorschieben. Außerdem neigen Redakteure dazu, von uns vordefinierte
Formatierungen für Überschriften (++<++h1++>++, ++<++h2++>++) durch
Anpassung der Schriftgröße und Farbe „nachzubauen“, was wir durch die
Ausblendung vermeiden können und dadurch den Nutzer zur Verwendung der
dafür eigentlich gedachten Funktion _Format_ zwingen.

Im Kundeneinsatz hat sich das folgende Editorlayout als Grundlage
vielfach bewährt.

image:book/18-best-practices/media/16.png[book/18-best-practices/media/16,width=548,height=79]

[width="49%",cols="29%,44%,27%",]
|===
| | |

|CHV++_++BOX++_++ID++_++01 | |

|icn001 |*Praxistipp:* Durch die Nutzung des im JCE integrierten
Bildmanagers wird der Joomla!-eigene _Bild_-Button, der unter dem Editor
sitzt, oft überflüssig und kann daher durch die Deaktivierung des
Plug-ins _Schaltfläche – Bild_ im Joomla!-Erweiterungsmanager
ausgeblendet werden. |
|===

In den zahlreichen Parametern des _Editoreinstellungen_ finden sich
zahlreiche weitere Konfigurationsoptionen, die durch ausführliche
Tooltipps, die beim jeweiligen Titel des Parameters hinterlegt sind,
erklärt werden. Einige Parameter möchte ich jedoch besonders
hervorheben.

[width="100%",cols="22%,26%,52%",]
|===
|Bereich |Parameter |Erklärung

| | |

|Erweitert |JavaScript erlauben |Durch den Wechsel auf „Ja“ erlaubt der
JCE das Einfügen von JavaScript-Code. Nützliche Funktion zum Einfügen
von Codeblöcken anderer Anbieter (Werbung etc.), *Achtung*: potenzielles
Sicherheitsrisiko!

|Dateisystem |Dateisystem |Erlaubt, nach Installation der entsprechenden
Plugins von der Hersteller-Seite, die Nutzung alternativer Dateisysteme
wie Amazon S3.

|Dateisystem |Datei-Browser-Position |Standardmäßig zeigt der Editor in
allen Datei-bezogenen Dialogen oben die Details zum aktuellen Eintrag
und unten die Liste der Dateien – beim Einpflegen eines neuen Eintrags
muss man also zuerst unten die entsprechende Datei suchen um dann oben
deren Einstellungen zu setzen. Dieser Schalter dreht diese unlogische
Reihenfolge um.

|Dateisystem |Größenänderung beim Upload (nur Pro, siehe unten) |Erlaubt
es, Bilder beim Upload standardmäßig auf eine vorgegeben Maximalgröße
verkleinern zu lassen

|Dateisystem |Größenänderungsstatus (nur Pro, siehe unten) |An“ erzwingt
die Größenänderung und verhindert dadurch, dass Nutzer Bilder in Inhalte
einfügen, die für die Nutzung im Web nicht geeignet sind

|Dateisystem |Breite ändern (px)/Höhe ändern (px) (nur Pro, siehe unten)
|Setzt die Maximalgrößen für die Bilder beim Upload

| | |

| | |

| | |

|Dateisystem |Pfad zum Medienverzeichnis |Definiert den Pfad zu dem
Verzeichnis, in dem der JCE standardmäßig nach Dateien (Bilder, PDFs
etc.) sucht. ­Besonderes Gimmick ist hier, dass der Pfad durch dynamische
Elemente wie den Nutzernamen ergänzt werden kann, damit z. B. Redakteure
nur ihren individuellen Bild­bestand betrachten können.
|===

Die Anpassung der installierten Plug-ins erfolgt im Tab
_Plugin-Einstellungen_, wo ich erneut einige im professionellen Umfeld
relevante Optionen hervorheben möchte.

[width="100%",cols="20%,19%,61%",]
|===
|Bereich |Parameter |Erläuterung

|Format |Format-Elemente |Erlaubt die Auswahl der HTML-Elemente die im
Format-Dropdown für den Nutzer zur Verfügung stehen

|Datei-Browser |Datei/Ordner löschen / umbenennen |Verhindert in
Mehrbenutzerumgebungen das Löschen / Umbenennen von noch verwendeten
Bildern durch Mitnutzer

|Zwischenablage |Microsoft Word Bereinigung |Konfiguriert die
automatische Bereinigung von Texten, die aus MS Word eingefügt werden.
_Immer_ erzwingt hier die Bereinigung von jedem eingefügten Inhalt,
wodurch unerwünschte Nebenwirkungen beim Einfügen von Inhalten
verschwinden

|Zwischenablage |Alle Stile entfernen |Entfernt Inline-CSS-Styles aus
einzufügenden Inhalten

|Zwischenablage |Alle Spans entfernen |Entfernt alle (meist nutzlosen)
++<++span++>++-Tags beim Einfügen

|Zwischenablage |Webkit-Stile entfernen |Entfernt spezifische Styles,
die Webkit-basierende Browser beim Kopieren und Einfügen erzeugen

|Zwischenablage |Bilder für Hochladen vorbereiten |Wandelt Bilder beim
Einfügen aus einer Textverarbeitung in ein leicht zu bedienendes
Platzhalterelement um, erlaubt somit die sehr simple Nachpflege dieser
Bilder nach dem Einfügen

|Bilder-Manager |Berechtigungen |Erlaubt das ausblenden von nicht
benötigten Optionen aus dem doch sehr umfangreichen Dialog zum Einfügen
von Bildern

|Link-Manager |Joomla!-Links |Ermöglicht die Ausblendung nicht genutzter
Joomla-Komponenten (Weblinks etc.) aus dem JCE-Link-Manager

| | |

| | |
|===

Durch diese zahlreichen Parameter lässt sich der JCE genau auf die
Bedürfnisse der Seite anpassen, was ihn wesentlich komfortabler in der
Bedienung macht.

image:book/18-best-practices/media/18.png[book/18-best-practices/media/18,width=548,height=319]

BILD 18.8 Konfiguration des JCE – hier: Konfiguration der
Format-Elemente

Zuletzt müssen wir den neu installierten und fertig konfigurierten
Editor in der Konfiguration unter System ++>++ Konfiguration noch
aktivieren.

image:book/18-best-practices/media/19.png[book/18-best-practices/media/19,width=548,height=233]

BILD 18.9 Aktivierung des Editors in der Konfiguration

===== Kostenpflichtige Zusatz-Plug-ins

Als Inhaber des kostenpflichten JCE-Abonnements erhält man Zugriff auf
einige sinnvolle Zusatz-Plug-ins für den Editor.

[width="100%",cols="29%,71%",]
|===
|Plug-in |Beschreibung

|Image Manager Extended a|
Erweiterte Version des Bildmanagers:

* Größenanpassung und Thumbnail-Erstellung (Erzeugen von ­Miniaturen des
Originalbilds) beim Upload
* Thumbnails aus Ausschnitten erstellen
* Mehrere Bilder auf einmal einfügen
* Bildeditor zur Größenänderung, Beschneidung und Rotation im Editor
* Erstellung von Popups mit wenigen Klicks
* Erstellung von _Source-Sets_ für responsive Seiten

|File Manager |Hochladen und Einfügen von Links für verschiedene
Dokumentenarten

|Media Manager |Hochladen und Einfügen von verschiedenen Audio- und
Videodateitypen inkl. Player

|Template Manager |Ermöglicht es, vorgefertigte HTML-Blöcke im Editor
einzufügen

|Captions |Setzt Untertitel zu Bildern

|Markdown-Unterstützung |Erlaubt die Gestaltung der Beiträge mittels
Markdown
|===

Als besonders nützlich haben sich dabei vor allen die drei ersten
Plug-ins erwiesen, da diese das ansonsten komplizierte Verwalten von
Bildern, Medien und Dateien erleichtern und so viele gängige
Anwendungsfälle (Upload eines PDF) ohne Nutzung von Zusatzerweiterungen
(PhocaDownloads o. Ä.) lösen.

[width="100%",cols="41%,59%",]
|===
| |
| |
| |
| |
| |
| |
| |
|===

Die Plug-ins werden über den normalen Plug-in-Installer des JCE
hinzugefügt und können anschließend in den Plug-in-Einstellungen des
jeweiligen Profils angepasst werden. Insbesondere der Image Manager
bietet hier einige Optionen, die dem Endnutzer viel Denkarbeit abnehmen.

Mit dem erweiterten Bildmanager können wir dem Endnutzer also das
Verkleinern von Bildern auf die richtige Auflösung sowie die
Thumbnail-Erstellung abnehmen und dadurch zugleich lange Ladezeiten, die
durch die Verwendung von unpassenden Maßen entstehen würden, verhindern.

===== Nutzung

Auf den ersten Blick unterscheidet sich der JCE, abgesehen von der durch
uns abgespeckten Toolbar, nur durch Details. So ist es im JCE
beispielsweise möglich, über die Nutzung der rechten Maustaste ein
angepasstes Kontextmenü zu laden, das den Nutzungsgewohnheiten vieler
Redakteure in ihren gewohnten Programmen (MS Word) entspricht.

image:book/18-best-practices/media/22.png[book/18-best-practices/media/22,width=548,height=357]

BILD 18.10 Kontextmenü des JCE

Das Einfügen von Verlinkungen innerhalb eines Texts funktioniert über
den integrierten Link-Manager, der, anders als der Link-einfügen-Dialog
des TinyMCE, eine Liste aller in der Installation vorhandenen Menüpunkte
und Inhalte enthält, die über einen Klick ausgewählt werden können. Dies
erleichtert Verweise zu anderen Seiteninhalten, da kein manuelles
Copy&Paste der URL mehr notwendig ist.

image:book/18-best-practices/media/24.png[book/18-best-practices/media/24,width=548,height=374]

BILD 18.11 JCE-Link-Manager mit Übersicht über Beiträge der Kategorie
„Uncategorized“

Die Verwaltung von Bildern, Dateien und Medien erfolgt über den
jeweiligen Manager, der im Aufbau stets ähnlich ist.

image:book/18-best-practices/media/26.png[book/18-best-practices/media/26,width=548,height=478]

BILD 18.12 JCE-Bildmanager, aufgeteilt in die zwei Bereiche
Datei-Browser (1) und Eigenschaften (2)

Der obere Bereich der einzelnen Manager fungiert als Datei-Browser (1) –
hier können bereits hochgeladene Dateien und Ordner betrachtet,
umbenannt, gelöscht oder ausgewählt werden. Zusätzlich bietet sich die
Möglichkeit, einen neuen Ordner hinzuzufügen oder durch Nutzung des
entsprechenden Buttons (rot markiert, obere rechte Toolbar des
Datei-Browsers) neue Dateien, Bilder und Medien vom eigenen Rechner
hochzuladen. Die dafür infrage kommenden Bilder können entweder über den
bekannten _Durchsuchen_-Button gewählt oder, wenn der jeweilige Browser
diese Funktion unterstützt (aktuell: Chrome, Firefox, Safari), per Drag
& Drop aus dem jeweiligen Ordner direkt in das dafür vorgesehene Feld
geschoben werden.

image:book/18-best-practices/media/28.png[book/18-best-practices/media/28,width=548,height=479]

BILD 18.13 Drag & Drop-Bildauswahl beim Upload

Der JCE entfernt dabei auf Wunsch Sonder- und Leerzeichen aus den
Dateinamen, um Schwierigkeiten,z.B. beim Serverumzug, zu vermeiden, und
bietet z.B. bei Bildern zusätzlich die bereits angesprochene Möglichkeit
der Skalierung und Thumbnail-Erstellung beim Upload.

[width="99%",cols="14%,86%",options="header",]
|===
|CHV++_++BOX++_++ID++_++01 |
|icn001 |Sowohl der in Joomla integrierte TinyMCE als auch der JCE
unterstützen den Drag & Drop Upload von Bildern, die direkt in den
Editor-Text gezogen werden – diese Dateien werden dabei jedoch
naturgemäß alle in das gleiche allgemeine Uploadverzeichnis hochgeladen,
was bei großen Seiten schnell unübersichtlich werden kann
|===

Die hochgeladene Datei wird im Browser durch einen Klick auf den
Dateinamen ausgewählt, wodurch die entsprechenden Parameter im Bereich
„Eigenschaft“ (2) gesetzt werden. Diese Parameter, die in Abhängigkeit
zum jeweiligen Manager stehen, können nun noch modifiziert werden; und
abschließend wird das Objekt über einen Klick auf Einfügen dem
Editorfenster hinzugefügt.

image:book/18-best-practices/media/30.png[book/18-best-practices/media/30,width=548,height=421]

BILD 18.14 Bildmanager mit gesetzten Parametern

Diese und weitere Funktionen machen den JCE zum besten WYSIWYG-Editor
für Joomla!, der sich derzeit auf dem Markt finden lässt.
