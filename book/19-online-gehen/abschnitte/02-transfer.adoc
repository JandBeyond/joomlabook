=== Transfer mittels FTP und phpMyAdmin

Nachdem der Hosting-Vertrag abgeschlossen und die lokale Installation
unserer Seite fertiggestellt ist, kommt der Tag der Wahrheit, an dem wir
unser Projekt hochladen und unter der endgültigen Domain online stellen
wollen.

Da unsere Installation ja aus zwei Teilen, nämlich den Dateien und der
Datenbank, besteht, müssen wir beide Teile separat auf den neuen Server
verschieben. Dafür öffnen wir zuerst, mit einem Programm unserer Wahl,
eine FTP-Verbindung zum Server des Hosters und laden alle Dateien der
Joomla!-Installation in das neue System hoch. Zu beachten ist dabei,
dass man die Dateien in das Wurzelverzeichnis der jeweiligen Domain
hochlädt, das in der Regel als _htdocs_ bzw. _httpdocs_ benannt ist.

image:book/19-online-gehen/media/7.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++19++\++Bild698.PNG,width=547,height=558]

BILD 19.5 Transfer der Dateien mittels FileZilla

Nun ist es erforderlich, die _configuration.php_ an die neue
Systemumgebung anzupassen, indem wir die Einträge für
Datenbankverbindung, Logdateien und tmp-Verzeichnis entsprechend
verändern. Dafür erstellen wir zuerst eine passende Datenbank im
Control-Panel unseres Hosters und öffnen dann die _configuration.php_
auf dem Server zur Bearbeitung.

image:book/19-online-gehen/media/9.png[book/19-online-gehen/media/9,width=548,height=547]

BILD 19.6 Datenbank- und Verzeichniskonfiguration in der
configuration.php

Vor der Änderung stellt sich jedoch noch ein Problem: Die Pfade zum
_/logs_- und _/tmp_-Verzeichnis müssen in absoluter Form angegeben
werden, wofür wir eigentlich Kenntnis über die Dateistruktur des
Webservers haben müssten. Es gibt jedoch einen einfachen Trick, um diese
Angaben herauszufinden. Dafür erstellen wir eine lokale Datei namens
_pfadfinder.php_ mit dem folgenden Inhalt.

LISTING 19.1 pfadfinder.php

++<++?php echo dirname(++__++FILE++__++); ?++>++

Anschließend laden wir diese Datei ebenfalls in das Wurzelverzeichnis
unserer Domain hoch und rufen die Datei im Browser auf, was zu einer
ähnlichen Ausgabe wie in Bild 19.7 führen sollte.

image:book/19-online-gehen/media/11.png[book/19-online-gehen/media/11,width=548,height=329]

BILD 19.7 Ausgabe des absoluten Pfads im pfadfinder-Skript

Mit dieser Angabe können wir nun die entsprechenden Einträge in der
_configuration.php_ verändern.

LISTING 19.2 Relevante Einträge in der configuration.php

++<++?php

class JConfig ++{++

++[++...++]++

public $host = 'DATENBANKSERVER';

public $user = 'DATENBANKBENUTZER';

public $password = 'DATENBANKPASSWORT';

public $db = 'DATENBANKNAME';

++[++...++]++

public $log++_++path = 'AUSGABE VON PFADFINDER/logs';

public $tmp++_++path = 'AUSGABE VON PFADFINDER/tmp';

Die in Großbuchstaben geschriebenen Platzhalter sind hierbei natürlich
durch ihre jeweilige Entsprechung zu ersetzen.

Nun muss noch die Datenbank transferiert werden. Dafür öffnen wir in
unserer lokalen Installation mittels Browser das Skript phpMyAdmin, das
zur Administration der MySQL-Datenbank dient, und wählen in der linken
Spalte die Datenbank unserer Joomla!-Installation aus. Anschließend
gelangen wir durch einen Klick auf Exportieren zum Konfigurationsdialog.

image:book/19-online-gehen/media/13.png[book/19-online-gehen/media/13,width=548,height=283]

BILD 19.8 Tabellenübersicht der gewählten Datenbank im phpMyAdmin

Je nach verwendeter phpMyAdmin-Version unterscheidet sich der
Konfigurationsdialog im Aussehen und in der Fülle der möglichen
Parameter, die jedoch im Regelfall unverändert bleiben können. Je nach
gewähltem Ausgabeformat erhalten wir nun entweder eine _.sql_-Datei, die
uns zum Download angeboten wird, oder die entsprechenden SQL-Befehle
werden in einem Textfenster dargestellt.

image:book/19-online-gehen/media/14.png[book/19-online-gehen/media/14,width=548,height=285]

BILD 19.9 Ausgabe als Text

Sollte die Ausgabe wie in Bild 19.9 im Textfenster erfolgen, so muss der
Inhalt entweder in die Zwischenablage oder in eine separate Datei
kopiert werden.

Daraufhin wechseln wir in das Control-Panel des jeweiligen Hosters, der
normalerweise an mehr oder weniger prominenter Stelle einen Link zum
dort ebenfalls installierten phpMyAdmin platziert haben wird. Nach einem
Klick auf den genannten Link und der Auswahl der Zieldatenbank können
wir nun, falls uns eine .sql-Datei zum Download angeboten wurde, diese
mittels einem Klick auf Importieren wieder hochladen und einspielen
lassen.

image:book/19-online-gehen/media/16.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++19++\++Bild738.PNG,width=547,height=405]

BILD 19.10 Import im phpMyAdmin mittels Dateiimport

Sollten wir die Ausgabe der Datenbank in einem Textfenster erhalten
haben, so können wir diese in den „SQL“-Dialog einfügen und einspielen
lassen.

image:book/19-online-gehen/media/17.png[C:++\++Users++\++hwunder++\++Desktop++\++rtf++\++19++\++Bild745.PNG,width=547,height=231]

BILD 19.11 Datenbankimport über „SQL“-Dialog

Sollte auch dieser Schritt erfolgreich abgeschlossen worden sein, so ist
unsere transferierte Joomla!-Seite nun einsatzbereit. Es empfiehlt sich
jedoch nach dem ersten Login im Backend, alle Komponenten auf ihre
Funktionstüchtigkeit zu prüfen, da insbesondere bei Komponenten, die
Zugriff auf das Dateisystem benötigen (Download-Lösungen, Akeeba
Backup), nun noch kleinere, in der Regel automatisch durchgeführte
Anpassungen notwendig sind.

Hat der Datenbankimport nicht geklappt, weil die Datenbank zu groß war?
Oder sind Sie das lästige Warten beim zeitraubenden FTP-Upload leid?
Kein Problem, ich möchte Ihnen nämlich noch als Alternative zum gerade
demonstrierten „klassischen Transfer“ die wesentlich einfachere Variante
mittels AkeebaBackup zeigen.
