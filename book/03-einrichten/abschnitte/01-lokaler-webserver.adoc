=== Lokaler Webserver

Joomla! ist kein ausführbares Programm im engeren Sinne, weshalb es,
anders als bei vielen anderen Programmen, keine obligatorische
_Joomla.exe_ gibt, welche die Software startet. Stattdessen ist für die
Ausführung eine weitere Software notwendig, welche die Nutzeranfragen,
die über den Browser erstellt werden, verarbeitet, Joomla! ausführt und
das Ergebnis an den Nutzer zurückgibt. Diese Software ist ein
sogenannter _Webserver_, deren bekanntester Vertreter der _Apache_
Server ist. Der Webserver muss eine Unterstützung für die Ausführung von
_PHP_-Skripten bieten, um Joomla! ausführen zu können, und gleichzeitig
muss eine _MySQL_- oder _MariaDB_-Datenbank installiert sein, um die
Daten unserer Seite speichern zu können. Diese Kombination aus
**A**pache, **M**ySQL bzw. __M__ariaDB und **P**HP wird auf
**L**inux-Systemen als _LAMP_ bezeichnet, woraus sich die Namen für die
anderen Betriebssysteme (_MAMP_ unter OS X, _XAMPP_ unter Windows)
ableiten.

Auf den folgenden Seiten möchte ich für jedes der genannten Systeme die
Installation des benötigten _Webservers_ beschreiben, wobei sich, je
nach Systemumgebung, einige Detailschritte unterscheiden können.

[width="99%",cols="14%,86%",options="header",]
|===
|CHV++_++BOX++_++ID++_++02 |
|icn002 |*Hinweis:* Die im Folgenden beschriebene Webserverkonfiguration
eignet sich ausschließlich zum Betrieb von lokalen Testumgebungen und
sollte unter keinen Umständen als produktiver Webserver für eine
öffentlich erreichbare Website genutzt werden!
|===

==== Windows

Unter Windows starten wir mit der Installation des Webserver-Pakets
_XAMPP_, indem wir das Installationspaket von der Homepage der
Entwickler ([.underline]#www.apachefriends.org#) herunterladen.

image:book/02-ueber-joomla/media/2.png[book/03-einrichten/media/2,width=548,height=336]

BILD 3.1 Download des _XAMPP_-Pakets von der Entwickler-Homepage

Nach dem Herunterladen starten Sie die Installation mit einem
Doppelklick auf den Installer. Folgen Sie den Anweisungen des
Installationsprogramms und belassen Sie dabei den Pfad zum
Zielverzeichnis bei der Standardvorgabe _c:++\++xampp_.

image:book/03-einrichten/media/4.png[book/03-einrichten/media/4,width=548,height=360]

BILD 3.2 Installationsprozess von _XAMPP_

Nach der Installation öffnet sich das _XAMPP Control Panel_, in dem wir
nun per Klick den Apache- und den Datenbank-Server starten. Sollten an
dieser Stelle Warnmeldungen von UAC oder installierten Firewall-Tools
auftreten, so müssen Sie den beiden Diensten den Netzwerkzugriff
erlauben.

image:book/03-einrichten/media/6.png[book/03-einrichten/media/6,width=548,height=363]

BILD 3.3 _XAMPP Control Panel_

Anschließend können wir unseren Browser aufrufen und durch die Eingabe
der URL _http://localhost/dashboard/_ die Startseite des gerade
installierten Webservers aufrufen. Nun können wir mit der
Joomla!-Installation fortfahren, da keine weiteren Anpassungen am
Webserver nötig sind, um Joomla! zu betreiben.

image:book/03-einrichten/media/8.png[book/03-einrichten/media/8,width=548,height=335]

BILD 3.4 Startseite des _XAMPP_-Pakets unter Windows

==== Linux

Die Installation der Webserverumgebung LAMP (Linux, Apache, MySQL, PHP)
unter Linux unterscheidet sich natürlich von Distribution zu
Distribution, weshalb ich mich an dieser Stelle auf die Beschreibung der
Einrichtung unter _Ubuntu Linux 16.04_ beschränken möchte.
_LAMP_-Installationsanleitungen für Ihre Distribution finden Sie mit ein
wenig Suchmaschineneinsatz im Internet.

[width="99%",cols="14%,86%",options="header",]
|===
|CHV++_++BOX++_++ID++_++02 |
|icn002 |*Hinweis:* Alternativ zur Nutzung der LAMP-Pakete in der
jeweiligen Distribution ist auch die Nutzung des separaten XAMPP-Pakets
unter Linux möglich – dieses wird dann jedoch selbstverständlich nicht
über die Paketverwaltung des Betriebssystems aktualisiert, sodass Sie
dieses Paket manuell auf dem aktuellen Stand halten müssen. Eine
Anleitung zur Installation von XAMPP unter Linux finden Sie im
Joomla!-Dokumentationswiki unter:
[.underline]#https://docs.joomla.org/Configuring++_++a++_++XAMPP++_++server++_++for++_++joomla++_++development#
|===

Beginnen Sie die Installation, indem Sie ein _Terminal_ öffnen und dort
den Befehl

sudo apt-get install mysql-server php7.0-mysql mysql-client php7.0
libapache2-

mod-php7.0 apache2 phpmyadmin

ausführen. Daraufhin beginnt _Ubuntu_ mit dem Herunterladen der
benötigten Software und installiert diese.

image:book/03-einrichten/media/10.png[book/03-einrichten/media/10,width=548,height=326]

BILD 3.5 Installation des LAMP-Pakets unter Ubuntu

Im Verlauf der Installation werden Sie nun um die Eingabe eines
_MySQL_-Root-Passworts gebeten, das als administratives Passwort für den
_MySQL_-Server dient. Vergeben Sie hier ein Wunschpasswort und merken
Sie sich dieses dauerhaft.

image:book/03-einrichten/media/12.png[book/03-einrichten/media/12,width=548,height=335]

BILD 3.6 Eingabe des gewünschten MySQL-Root-Passworts

Nun ist Ihr neu installierter Webserver bereits unter
_http://localhost/_ erreichbar, benötigt jedoch noch einige Anpassungen,
um mit unserer gewünschten Joomla!-Umgebung zu harmonieren.

image:book/03-einrichten/media/14.png[book/03-einrichten/media/14,width=548,height=334]

BILD 3.7 Webserver nach der Installation

Diese Anpassungen sind nötig, weil der _Webserver_ unter _Ubuntu_
standardmäßig mit einem eigenen Benutzernamen betrieben wird, der
gleichzeitig auch Inhaber des _Docroot_-Verzeichnisses (_/var/www_) des
_Webservers_ ist. Deshalb ist es uns nicht möglich, mit unserem eigenen
Benutzernamen Änderungen am Code der Joomla!-Installation vorzunehmen.
Wir verändern also die Konfiguration des _Apache_, damit dieser
stattdessen unter unserem eigenen Benutzernamen läuft, wodurch wir
problemlos auf das entsprechende Docroot-Verzeichnis zugreifen können.

[width="99%",cols="14%,86%",options="header",]
|===
|CHV++_++BOX++_++ID++_++02 |
|icn002 |*Hinweis:* Den _Apache_-Server mit den Rechten des eigenen
Benutzernamens laufen zu lassen, bringt einige Sicherheitsrisiken mit
sich, weshalb wir dieses Verfahren ausschließlich in unserer lokalen
Umgebung anwenden, die keine Zugriffe von außen zulässt. Wenden Sie
dieses Verfahren niemals auf Produktivsystemen an!
|===

Um die Änderungen auszuführen, öffnen Sie die Datei
_/etc/apache2/envvars_ mit einem Editor Ihrer Wahl (hier _nano_):

Sudo nano /etc/apache2/envvars

Und ändern dort die Zeilen

export APACHE++_++RUN++_++USER=www-data

export APACHE++_++RUN++_++GROUP=www-data

dahingehend ab, dass _www-data_ durch Ihren eigenen Benutzernamen
ersetzt wird:

export APACHE++_++RUN++_++USER=djardin

export APACHE++_++RUN++_++GROUP=djardin

Anschließend editieren wir noch die Datei _/etc/apache2/ports.conf_ und
ersetzen dort den Eintrag

Listen 80

durch

Listen 127.0.0.1:80

und weisen den _Apache_ dadurch an, nur lokale Verbindungen anzunehmen.

Anschließend ändern wir noch den Inhaber des Docroot-Verzeichnisses und
starten den Webserver neu:

sudo chown USERNAME:USERNAME –R /var/www

sudo /etc/init. d/apache2 restart

Nun ist das System bereit für die Joomla!-Installation.

==== Mac OS X

Die Installation unseres lokalen _Webservers_ unter Mac OS X kann
prinzipiell über drei verschiedene Wege erfolgen:

[arabic]
. Nutzung bzw. Konfiguration der ohnehin bereits vorhandenen
Webserver-Komponenten
. Nutzung des speziell für OS X geschriebenen _MAMP_-Pakets (**M**ac OS
X, **A**pache, **M**ySQL, **P**HP)
. Nutzung der OS X-Version von _XAMPP_

Ich möchte Ihnen an dieser Stelle zu Variante 2, also der Nutzung von
MAMP raten, da die Konfiguration des integrierten Webservers relativ
aufwendig ist und die OS X-Version von _XAMPP_ leider nicht mit dem
Komfort von _MAMP_ mithalten kann. _MAMP_ existiert in zwei
verschiedenen Versionen (Standard und PRO), wobei die kostenlose
Standardversion für unsere Zwecke vollkommen ausreichend ist.

Die Installation von MAMP beginnt mit dem Download des
Installationspakets von der Homepage des Projekts unter
[.underline]#http://www.mamp.info#.

image:book/03-einrichten/media/16.png[book/03-einrichten/media/16,width=548,height=319]

BILD 3.8 Homepage des MAMP-Projekts mit Download-Möglichkeit

Nach dem Download entpacken wir das Paket und starten die Installation
durch einen Doppelklick auf die gerade entpackte Datei
_MAMP++_++MAMP++_++PRO++_++X.pkg_. Daraufhin werden wir vom Installer
durch die Installation des Webservers geführt.

image:book/03-einrichten/media/19.png[book/03-einrichten/media/19,width=548,height=387]

BILD 3.9 Installation des _MAMP_-Pakets

Nach der erfolgreichen Installation können wir _MAMP_ und _MAMP PRO_ in
unserem _Programme_-Ordner finden, wobei sich die PRO-Version
selbstverständlich nur nach dem Kauf der entsprechenden Lizenz nutzen
lässt. Daher starten wir die Standardversion durch einen Doppelklick auf
das entsprechende Icon im _Programme_-Ordner.

image:book/03-einrichten/media/20.png[book/03-einrichten/media/20,width=548,height=338]

BILD 3.10 Start von MAMP mittels Verknüpfung im Programmordner

Anschließend öffnet sich das _MAMP_-eigene Kontrolltool, das uns per
Mausklick das Starten und Beenden des Webservers erlaubt. Zudem können
wir in den Einstellungen die zu verwendende _PHP-Version_, die _Web_-
und _MySQL_-Server-Ports sowie das sog. _Document Root_, also das
Hauptverzeichnis des _Webservers_, wählen. Weitere Anpassungen an _MAMP_
sind zum Betrieb von Joomla! nicht nötig.

image:book/03-einrichten/media/23.png[book/03-einrichten/media/23,width=548,height=414]

BILD 3.11 MAMP-Kontrolltool

==== Vagrant

Eine Alternative zur Installation auf dem eigenen Rechner stellt die
Nutzung einer virtuellen Umgebung auf Basis des Tools _Vagrant_ dar.
Vagrant ist ein Werkzeug, das dem Benutzer erlaubt automatisch eine
vorkonfigurierte, virtuelle Maschine zu erzeugen. Vagrant wird in
Entwickler-Kreisen gerne für lokale Entwicklungsumgebungen genutzt. Die
auf Knopfdruck erzeugt werden können und dabei nicht vom verwendeten
Betriebssystem abhängen oder erst aufwendig eingerichtet werden müssen.

Für Joomla existiert eine speziell vorbereitete Vagrant Umgebung, die
von den Kollegen von joomlatools.eu vorbereitet wurde. Diese Vagrant Box
heißt schlicht Joomlatools Vagrant und bringt neben einem lokalen
Webserver noch diverse vorinstallierte Debugging- und
Administrationszwerkzeuge mit. Eine Anleitung zur Installation finden
Sie im Github Repository des Projekts unter
https://github.com/joomlatools/joomlatools-vagrant.

Zu beachten ist dabei, dass sich durch die Nutzung der Vagrant Umgebung
einige Arbeitsabläufe verändern, weshalb die folgenden Kapitel,
insbesondere die Teile, die die Administration der Seite betreffen,
nurnoch bedingt zutreffen würden. Ich empfehle Ihnen daher die
Installation erstmal manuell vornehmen und sich mit dem Thema Vagrant
dann zu einem späteren Verlauf erneut zu beschäftigen.

image:book/03-einrichten/media/24.png[book/03-einrichten/media/24,width=548,height=347]

Bild 3.12 Screenshot der Joomlatools Vagrant Umgebung
